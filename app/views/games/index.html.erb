
<div class="hero">
<div id="carouselExampleControls" class="carousel slide" data-ride="carousel" data-interval="false">
  <div class="carousel-inner h-100 w-75 image-margin">
    <% @games.each_with_index do |game, index| %>
    <div class="carousel-item <%= 'active' if index.zero? %> h-100">
      <%= link_to game_path(game), class:"text-decoration-none" do %>
        <div class="d-flex h-100">
        <%= cl_image_tag(game.photos.first.key, crop: :fit, class: " d-block h-100 w-75 ml-0 game-image") %>
        <div class="image-sidebox">
          <h4><%= game.title %></h4>
          <p class="game-tag"> <%= "##{game.category}"  %> </p>
          <p><%= game.description %></p>
          <div class="hero-button">Follow Game!</div>
        </div>
        </div>
      <% end %>
    </div>
    <% end %>
  </div>

  <a class="carousel-control-prev carousel-button" href="#carouselExampleControls" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>
</div>

<div class="row">
  <div class="col-0 col-md-2 filters-background">
    <div class="container-fluid filters-content">
      <h3 class="mb-0">Filter Games</h3>
      <div class="filters-type">
      <h5>Platform</h5>
        <ul>
          <li class="filter">Windows</li>
          <li class="filter">MacOs</li>
          <li class="filter">Linux</li>
          <li class="filter">Web</li>
        </ul>
        <h5>Price</h5>
        <ul>
          <li class="filter">Free</li>
          <li class="filter">On Sale</li>
          <li class="filter"> £10 or less</li>
          <li class="filter"> £20 or less</li>
        </ul>
        </div>
    </div>
  </div>
    <div class="col-12 col-md-10 games-container">
      <div class="games-background">
        <div class="container-fluid">
          <div class="d-flex justify-content-between mt-1 games-search align-items-center">
            <h2 class="mb-0">Latest Featured Games</h2>
              <%= form_tag games_path, method: :get do %>
              <div class="form-container-index d-flex">
              <%= text_field_tag :query,
                params[:query],
                class: "form-control",
                placeholder: "Find a game!"
              %>
              <%= submit_tag "Search", class: "btn btn-primary btn-search-index" %>
               </div>
            <% end %>
          </div>
          <div class="d-flex flex-wrap justify-content-between">
            <% @games.each do |game| %>
                <div class="games-card">
                  <div class="game-card-info">
                    <%= cl_image_tag(game.photos.last.key, class: "game-image") %>
                    <div class="game-card-text">
                      <%= link_to game.title, game_path(game) %>
                      <p class="game-tag"><%="##{game.category}"%></p>
                      <p class="game-description text-break"><%= game.description %></p>
                        <%= form_tag orders_path do %>
                        <%= hidden_field_tag 'game_id', game.id %>
                        <%= submit_tag humanized_money_with_symbol(game.price), class:"game-card-button"%>
                        <% end %>

                    </div>
                  </div>
                </div>
            <% end %>
          </div>
        </div>
    </div>
  </div>
</div>
